<div id="intro" class="box py-3 generalbox boxaligncenter"><div class="no-overflow" id="yui_3_17_2_1_1764506505917_47"><p><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'; font-size: 1rem;">–î–µ–¥–ª–∞–π–Ω –¥–ª—è —Å–¥–∞—á–∏ –õ–† ‚Äî&nbsp;</span><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'; font-size: 1rem;">3 –Ω–µ–¥–µ–ª–∏ —Å —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏ –õ–†</span><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'; font-size: 1rem;">.&nbsp;</span></p>
<table><caption>–ì—Ä–∞—Ñ–∏–∫ –≤—ã–¥–∞—á–∏/–¥–µ–¥–ª–∞–π–Ω–∞ –ø–æ –õ–†</caption>
<thead>
<tr><th scope="col">–ì—Ä—É–ø–ø–∞</th><th scope="col">–î–∞—Ç–∞ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è&nbsp;</th><th scope="col">–î–∞—Ç–∞ —Å–¥–∞—á–∏&nbsp;</th></tr>
</thead>
<tbody>
<tr>
<td>P3120</td>
<td>15/11</td>
<td>06/12</td>
</tr>
<tr>
<td>P3122</td>
<td>15/11</td>
<td>06/12</td>
</tr>
<tr>
<td>P3123</td>
<td>15/11</td>
<td>06/12</td>
</tr>
<tr>
<td>P3121</td>
<td>15/11</td>
<td>06/12</td>
</tr>
<tr>
<td>P3124</td>
<td>15/11</td>
<td>06/12</td>
</tr>
<tr>
<td>P4150</td>
<td>15/11</td>
<td>06/12</td>
</tr>
</tbody>
</table>
<p></p>
<p><span>–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É –Ω–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –≤ –≥–∏—Ç—Ö–∞–± —Å –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–º –∑–∞–¥–∞–Ω–∏–µ–º.&nbsp;</span></p>
<p><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'; font-size: 1rem;">–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω–∞–ø–∏—à–∏—Ç–µ&nbsp;</span><a href="https://habr.com/ru/articles/499358/" target="_blank" style="background-color: #ffffff; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'; font-size: 1rem;">—Ö–æ—Ä–æ—à—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é</a><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'; font-size: 1rem;">&nbsp;</span><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'; font-size: 1rem;">&nbsp;(—Å–º.&nbsp;</span><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'; font-size: 1rem;"><a href="https://peps.python.org/pep-0257/" target="_blank">PEP-257</a></span><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'; font-size: 1rem;">&nbsp;</span><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'; font-size: 1rem;">) –∫ —Å–≤–æ–µ–º—É –∫–æ–¥—É. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ –ø–æ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤ (</span><a href="https://docs.python.org/3/library/typing.html" target="_blank" style="background-color: #ffffff; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'; font-size: 1rem;">–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</a><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'; font-size: 1rem;">&nbsp;</span><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'; font-size: 1rem;">,&nbsp;</span><a href="https://mypy.readthedocs.io/en/stable/cheat_sheet_py3.html" target="_blank" style="background-color: #ffffff; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'; font-size: 1rem;">—à–ø–∞—Ä–≥–∞–ª–∫–∞ –ø–æ —Ç–∏–ø–∞–º</a><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'; font-size: 1rem;">&nbsp;</span><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'; font-size: 1rem;">). –ù–µ –∑–∞–±—É–¥—å—Ç–µ –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ —Å–æ–≥–ª–∞—Å–Ω–æ PEP8.&nbsp;</span></p>
<p><strong>–ü–æ–¥—É–º–∞–π—Ç–µ –Ω–∞–¥ –≤–æ–ø—Ä–æ—Å–æ–º –∏ –±—É–¥—å—Ç–µ –≥–æ—Ç–æ–≤—ã –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –Ω–µ–≥–æ:&nbsp;</strong></p>
<p><em>–ö–∞–∫ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å –æ—à–∏–±–∫–∏ –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏, –µ—Å–ª–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–Ω–µ—Å–µ–Ω–æ –≤ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä?</em></p>
<p><span></span></p>
<h2>üéØ –¶–µ–ª–∏ —Ä–∞–±–æ—Ç—ã</h2>
<ul>
<li>
<p>–æ—Å–≤–æ–∏—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏;</p>
</li>
<li>
<p>–Ω–∞—É—á–∏—Ç—å—Å—è —Ä–∞–∑–¥–µ–ª—è—Ç—å –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏–π (–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞) –∏ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤ (—Å–∫–≤–æ–∑–Ω–∞—è –ª–æ–≥–∏–∫–∞);</p>
</li>
<li>
<p>–Ω–∞—É—á–∏—Ç—å—Å—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏—è, –≤–æ–∑–Ω–∏–∫–∞—é—â–∏–µ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –≤–Ω–µ—à–Ω–∏–º–∏ API;</p>
</li>
<li>
<p>–æ—Å–≤–æ–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –ø–æ—Ç–æ–∫–æ–≤ (<code>sys.stdout</code>, <code>io.StringIO</code>, <code>logging</code>);</p>
</li>
<li>
<p>–Ω–∞—É—á–∏—Ç—å—Å—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è.</p>
</li>
</ul>
<hr>
<h1 id="yui_3_17_2_1_1764506505917_48">1. –ó–∞–¥–∞–Ω–∏–µ</h1>
<h2 id="yui_3_17_2_1_1764506505917_46">1.1. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä <code>logger</code>, –∫–æ—Ç–æ—Ä—ã–π:</h2>
<h3>üî∑ –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏</h3>
<p>–î–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–æ–ª–∂–µ–Ω:</p>
<ol>
<li>
<p><strong>–±—ã—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑—É–µ–º—ã–º</strong><br> –°–∏–≥–Ω–∞—Ç—É—Ä–∞:</p>
</li>
</ol>
<pre><code class="language-python">def logger(func=None, *, handle=sys.stdout):
    ...
</code></pre>
<ol start="2">
<li>
<p><strong>–≤–µ—Å—Ç–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–¥–Ω–∏–º –∏–∑ —Ç—Ä—ë—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤</strong> (–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∞—Ä–≥—É–º–µ–Ω—Ç–∞ <code>handle</code>):</p>
</li>
</ol>
<h3>–í–∞—Ä–∏–∞–Ω—Ç 1 ‚Äî –æ–±—ã—á–Ω—ã–π –ø–æ—Ç–æ–∫ –≤—ã–≤–æ–¥–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)</h3>
<pre><code class="language-python">@logger
def f(...):
    ...
</code></pre>
<p><code>handle = sys.stdout</code></p>
<p>–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –º–µ—Ç–æ–¥–æ–º <code>handle.write(...)</code>.</p>
<h3>–í–∞—Ä–∏–∞–Ω—Ç 2 ‚Äî –ª—é–±–æ–π –æ–±—ä–µ–∫—Ç, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ñ–∞–π–ª–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä:</h3>
<pre><code class="language-python">stream = io.StringIO()
@logger(handle=stream)
def f():
    ...
</code></pre>
<p>–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–¥—ë—Ç –≤ StringIO.</p>
<h3>–í–∞—Ä–∏–∞–Ω—Ç 3 ‚Äî –æ–±—ä–µ–∫—Ç –º–æ–¥—É–ª—è logging</h3>
<pre><code class="language-python">log = logging.getLogger("L1")
@logger(handle=log)
def f():
    ...
</code></pre>
<p>–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–æ–ª–∂–µ–Ω –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑:</p>
<ul>
<li>
<p><code>log.info()</code>,</p>
</li>
<li>
<p><code>log.error()</code>.</p>
</li>
</ul>
<p>‚Üí –î–µ–∫–æ—Ä–∞—Ç–æ—Ä —Å–∞–º –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å–ø–æ—Å–æ–± –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:<br> <strong>–µ—Å–ª–∏ –ø–µ—Ä–µ–¥–∞–Ω logging.Logger ‚Äî –ª–æ–≥–∏—Ä—É–µ–º —á–µ—Ä–µ–∑ logging, –∏–Ω–∞—á–µ ‚Äî —á–µ—Ä–µ–∑ .write().</strong></p>
<hr>
<h3>üî∑ –û–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞</h3>
<ol>
<li>
<p>–ü—Ä–∏ –≤—ã–∑–æ–≤–µ —Ñ—É–Ω–∫—Ü–∏–∏ ‚Äî –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å:</p>
<ul>
<li>
<p>—É—Ä–æ–≤–µ–Ω—å <strong>INFO</strong>: —Å—Ç–∞—Ä—Ç –≤—ã–∑–æ–≤–∞ + –∞—Ä–≥—É–º–µ–Ω—Ç—ã;</p>
</li>
<li>
<p>—É—Ä–æ–≤–µ–Ω—å <strong>INFO</strong>: —É—Å–ø–µ—à–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ + —Ä–µ–∑—É–ª—å—Ç–∞—Ç.</p>
</li>
</ul>
</li>
<li>
<p>–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è ‚Äî –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å:</p>
<ul>
<li>
<p>—É—Ä–æ–≤–µ–Ω—å <strong>ERROR</strong>: —Ç–µ–∫—Å—Ç –∏ —Ç–∏–ø –∏—Å–∫–ª—é—á–µ–Ω–∏—è,</p>
</li>
<li>
<p>–∑–∞—Ç–µ–º <strong>–ø–æ–≤—Ç–æ—Ä–Ω–æ –≤—ã–±—Ä–æ—Å–∏—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ</strong>.</p>
</li>
</ul>
</li>
<li>
<p>–ù–µ –∏–∑–º–µ–Ω—è—Ç—å —Å–∏–≥–Ω–∞—Ç—É—Ä—É –≤—ã–∑—ã–≤–∞–µ–º–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å <code>functools.wraps</code>).</p>
</li>
</ol><hr>
<h1>2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é <code>get_currencies</code></h1>
<p>–§—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ —Å–æ–¥–µ—Ä–∂–∞—Ç—å <strong>—Ç–æ–ª—å–∫–æ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É</strong>:</p>
<h3>2.1. –§—É–Ω–∫—Ü–∏—è:</h3>
<pre><code class="language-python">def get_currencies(currency_codes: list, url=..., ...) -&gt; dict:
    ...
</code></pre>
<h3>2.2. –ß—Ç–æ –¥–æ–ª–∂–Ω–∞ –¥–µ–ª–∞—Ç—å:</h3>
<ol>
<li>
<p>–î–µ–ª–∞—Ç—å –∑–∞–ø—Ä–æ—Å –∫ API –¶–ë –†–§ (–∏–ª–∏ —Ç–µ—Å—Ç–æ–≤–æ–º—É URL).</p>
</li>
<li>
<p>–ò–∑–≤–ª–µ–∫–∞—Ç—å —Å–ª–æ–≤–∞—Ä—å <code>Valute</code>.</p>
</li>
<li>
<p>–í–æ–∑–≤—Ä–∞—â–∞—Ç—å —Å–ª–æ–≤–∞—Ä—å –≤–∏–¥–∞:</p>
</li>
</ol>
<pre><code class="language-python">{"USD": 93.25, "EUR": 101.7}
</code></pre>
<hr>
<h3>2.3. –ö–æ–≥–¥–∞ –¥–æ–ª–∂–Ω–∞ –≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏—è:</h3>
<table>
<thead>
<tr><th>–°–∏—Ç—É–∞—Ü–∏—è</th><th>–ò—Å–∫–ª—é—á–µ–Ω–∏–µ</th></tr>
</thead>
<tbody>
<tr>
<td>API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω</td>
<td>ConnectionError</td>
</tr>
<tr>
<td>–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π JSON</td>
<td>ValueError</td>
</tr>
<tr>
<td>–ù–µ—Ç –∫–ª—é—á–∞ ‚ÄúValute‚Äù</td>
<td>KeyError</td>
</tr>
<tr>
<td>–í–∞–ª—é—Ç–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –¥–∞–Ω–Ω—ã—Ö</td>
<td>KeyError</td>
</tr>
<tr>
<td>–ö—É—Ä—Å –≤–∞–ª—é—Ç—ã –∏–º–µ–µ—Ç –Ω–µ–≤–µ—Ä–Ω—ã–π —Ç–∏–ø</td>
<td>TypeError</td>
</tr>
</tbody>
</table>
<p><strong>–§—É–Ω–∫—Ü–∏—è <em>–Ω–µ –¥–æ–ª–∂–Ω–∞ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å</em> ‚Äî —Ç–æ–ª—å–∫–æ –≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏—è.</strong><br> –í—Å—ë –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–º.</p>
<hr>
<h1>3. –û–±–µ—Ä–Ω—É—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–º</h1>
<pre><code class="language-python">@logger(handle=sys.stdout)     # –∏–ª–∏ @logger(), –∏–ª–∏ @logger(handle=logging_obj)
def get_currencies(...):
    ...
</code></pre>
<hr>
<h1>4. –°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–∞—è —á–∞—Å—Ç—å</h1>
<p>–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ–∞–π–ª-–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:</p>
<ul>
<li>
<p>—Å–æ–∑–¥–∞—Ç—å –ª–æ–≥–≥–µ—Ä <code>logging.getLogger("currency")</code>;</p>
</li>
<li>
<p>–Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –µ–≥–æ –Ω–∞ –∑–∞–ø–∏—Å—å –≤ —Ñ–∞–π–ª;</p>
</li>
<li>
<p>–ø–µ—Ä–µ–¥–∞—Ç—å –µ–≥–æ –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç <code>handle=</code>:</p>
</li>
</ul>
<pre><code class="language-python">file_logger = logging.getLogger("currency_file")
@logger(handle=file_logger)
def get_currencies(...):
    ...
</code></pre>
<hr>
<h1>5. –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä (—Å–º. –∫–æ–ª–∞–± –≤ —Ç–µ–º–µ –∫—É—Ä—Å–∞)</h1>
<p>–°–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é <code>solve_quadratic(a, b, c)</code> –∏ –æ–±–µ—Ä–Ω—É—Ç—å –µ—ë –≤ –ª–æ–≥–∏—Ä—É—é—â–∏–π –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä.</p>
<p>–ü—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å:</p>
<ul>
<li>
<p>INFO –¥–ª—è –¥–≤—É—Ö –∫–æ—Ä–Ω–µ–π,</p>
</li>
<li>
<p>WARNING –¥–ª—è –¥–∏—Å–∫—Ä–∏–º–∏–Ω–∞–Ω—Ç–∞ &lt; 0,</p>
</li>
<li>
<p>ERROR –¥–ª—è –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (<code>a = "abc"</code>),</p>
</li>
<li>
<p>CRITICAL –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–±–∞ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ <code>a=b=0</code>).</p>
</li>
</ul>
<hr>
<h1>6. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</h1>
<h2>6.1. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ <code>get_currencies</code></h2>
<p>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–æ–¥—É–ª—å <code>unittest</code>:</p>
<h3>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:</h3>
<ul>
<li>
<p>–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –≤–æ–∑–≤—Ä–∞—Ç —Ä–µ–∞–ª—å–Ω—ã—Ö –∫—É—Ä—Å–æ–≤;</p>
</li>
<li>
<p>–ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –≤–∞–ª—é—Ç–µ;</p>
</li>
<li>
<p>–≤—ã–±—Ä–æ—Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π:</p>
<ul>
<li>
<p><code>ConnectionError</code>,</p>
</li>
<li>
<p><code>ValueError</code>,</p>
</li>
<li>
<p><code>KeyError</code>.</p>
</li>
</ul>
</li>
</ul>
<p>–° –ø–æ–º–æ—â—å—é:</p>
<pre><code class="language-python">with self.assertRaises(ConnectionError):
    get_currencies(...)
</code></pre>
<hr>
<h2>6.2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–≤–µ–¥–µ–Ω–∏—è –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞ (–ª–æ–≥–≥–µ—Ä–∞)</h2>
<p>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å <code>io.StringIO()</code>:</p>
<h3>–ü—Ä–∏–º–µ—Ä –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏:</h3>
<pre><code class="language-python">self.stream = io.StringIO()

@logger(handle=self.stream)
def test_function(x):
    return x * 2
</code></pre>
<h3>–ü—Ä–æ–≤–µ—Ä–∫–∏:</h3>
<h4>1. –õ–æ–≥–∏ –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏</h4>
<ul>
<li>
<p>—Å–æ–æ–±—â–µ–Ω–∏–µ –æ —Å—Ç–∞—Ä—Ç–µ (<code>INFO</code>)</p>
</li>
<li>
<p>—Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ–∫–æ–Ω—á–∞–Ω–∏–∏ (<code>INFO</code>)</p>
</li>
<li>
<p>–∞—Ä–≥—É–º–µ–Ω—Ç—ã –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∞–Ω—ã.</p>
</li>
</ul>
<h4>2. –õ–æ–≥–∏ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö</h4>
<ul>
<li>
<p>–≤—ã–∑–≤–∞—Ç—å –¥–µ–∫–æ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é —Å –æ—à–∏–±–∫–æ–π;</p>
</li>
<li>
<p>–ø—Ä–æ–≤–µ—Ä–∏—Ç—å <code>self.assertRegex(self.stream.getvalue(), "ERROR")</code>;</p>
</li>
<li>
<p>–ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–æ–±—Ä–æ—à–µ–Ω–æ.</p>
</li>
</ul>
<hr>
<h2>6.3. –ü—Ä–∏–º–µ—Ä —Ç–µ—Å—Ç–∞ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º (–∏–∑ –∑–∞–¥–∞–Ω–∏—è)</h2>
<pre><code class="language-python">class TestStreamWrite(unittest.TestCase):

    def setUp(self):
        self.stream = io.StringIO()

        @logger(handle=self.stream)
        def wrapped():
            return get_currencies(['USD'], url="https://invalid")

        self.wrapped = wrapped

    def test_logging_error(self):
        with self.assertRaises(ConnectionError):
            self.wrapped()

        logs = self.stream.getvalue()
        self.assertIn("ERROR", logs)
        self.assertIn("ConnectionError", logs)
</code></pre>
<hr>
<h1>üìÑ –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤ –æ—Ç—á—ë—Ç–µ</h1>
<ol>
<li>
<p>–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏.</p>
</li>
<li>
<p>–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ <code>get_currencies</code> (–±–µ–∑ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è).</p>
</li>
<li>
<p>–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä (–∫–≤–∞–¥—Ä–∞—Ç–Ω–æ–µ —É—Ä–∞–≤–Ω–µ–Ω–∏–µ).</p>
</li>
<li>
<p>–°–∫—Ä–∏–Ω—à–æ—Ç—ã / —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã –ª–æ–≥–æ–≤.</p>
</li>
<li>
<p>–¢–µ—Å—Ç—ã:</p>
<ul>
<li>
<p>—Ç–µ—Å—Ç—ã —Ñ—É–Ω–∫—Ü–∏–∏,</p>
</li>
<li>
<p>—Ç–µ—Å—Ç—ã –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞,</p>
</li>
<li>
<p>—Ç–µ—Å—Ç—ã —Ä–∞–±–æ—Ç—ã —Å <code>StringIO</code>.</p>
</li>
</ul>
</li>
</ol></div></div>